<?xml version="1.0" encoding="UTF-8"?>
<a:authorAction xmlns:a="http://www.oxygenxml.com/ns/author/external-action"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://www.oxygenxml.com/ns/author/external-action http://www.oxygenxml.com/ns/author/external-action/authorAction.xsd"
  id="add_missing_in_reading">
  <a:name>Mark as missing in reading X</a:name>
  <a:description>Mark as missing in reading X</a:description>
  <a:smallIconPath href="${framework}/images/bracketshash-16.png"/>
  <a:largeIconPath href="${framework}/images/bracketshash-24.png"/>
  <a:operations>
    <a:operation id="SurroundWithFragmentOperation">
      <a:xpathCondition>self::*:l|self::*:head|self::*:p</a:xpathCondition>
      <a:arguments>
        <a:argument name="fragment"><![CDATA[<app xmlns="http://www.tei-c.org/ns/1.0">
  <lem></lem>
  <rdg wit="${ask('Sigel',combobox,(${xpath_eval(string-join(let $headWits := doc("${cf}")/*:TEI/*:teiHeader//*:witness/@xml:id, $catFile := "${pdu}/WitnessCatalogue.xml", $catWits := if (doc-available($catFile)) then doc($catFile)/*:TEI/*:text//*:witness else () return for $w in $headWits return concat("'#", $w, "':'#", $w, ' = ', $catWits[@xml:id eq $w]//*:abbr[@type eq 'siglum'][1], "'"), ';')  )}), '')}">
    <gap reason="missing" unit="word" quantity="${xpath_eval(count(tokenize("${selection}", '\s+')))}"/>
  </rdg>
</app>]]></a:argument>
      </a:arguments>
    </a:operation>
  </a:operations>
  <a:accessKey>v</a:accessKey>
  <a:enabledInReadOnlyContext>false</a:enabledInReadOnlyContext>
</a:authorAction>
